---
layout:     post   				    # 使用的布局（不需要改）
title:      C++与python之赋值				# 标题 
subtitle:    #副标题
date:       2023-05-06				# 时间
author:     By xrj						# 作者
header-img: img/post-bg-2015.jpg 	#这篇文章标题背景图片
catalog: true 						# 是否归档
tags:								#标签
    - 赋值
    - 拷贝
---

## 一、引言

在写python代码时常常遇到奇怪的bug，总结后发现是赋值符号``=``的问题。
赋值运算符``=``在C++和python中不一样，涉及到浅拷贝，深拷贝，可变变量，不可变变量等概念。

## 二、赋值详解

## 2.1 C++

C++的赋值比较简单，如下：

```C++
int a=0;
int b;
b = a;
```

C++会分配两个独立的内存空间，分别交给变量a和b，它们的内存地址不同，相同的是value值。如果想要指向同一个地址，可以使用``&``引用。

```C++
auto& b = a;
```

这样b就和a指向同一块内存空间。或者使用指针

```C++
int *b;
b = &a;
```

## 2.2 python

### 2.2.1 ``=``

python的赋值语句是浅拷贝，执行以下代码

```python
a = 0
b = a
a = 1
print(b)
```

执行结果是``b=1``。原因就在于python是浅拷贝，赋值语句只是将地址交给变量b，a和b指向的是同一块内存空间，所以修改a，b的值也会被改变。

### 2.2.2 ``copy.copy()``

### 2.2.3 ``copy.deepcopy()``

可变变量与不可变变量

理解了浅拷贝和深拷贝，介绍一下变量的区别。python的列表、字典、自定义类等称为可变变量，元组等称为不可变变量。

对于不可变变量，执行的全部都是浅拷贝，即修改
